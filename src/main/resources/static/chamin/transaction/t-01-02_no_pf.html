<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>t-01-02</title>
    
    <link rel="stylesheet" href="../../css/common.css">
    <link rel="stylesheet" href="../../css/style.css">

</head>
<body>
    <div class="header">
        <div class="page_head">
            <a href="#" class="btn_back">
                <i class="ico"></i>
                <span class="blind">이전페이지로</span>
            </a>
       
        </div>
    </div>


    <div class="popup_wrap t_01_02 fixed"> 
        <div class="popup_header">
            <h2><span>자문내용</span></h2>
            <button class="popup_close"><span>닫기</span></button>
        </div>

        <div class="popup_content">

            <!-- 21-05-14 계좌삭제 문구 추가 -->
            <div class="section">
                <div class="section-inner">
                    <div class="section-title">연금 운용 방법을 변경합니다</div>
                </div>
            </div>

            <div class="section">
                <div class="section-inner">
                    <div class="section-title">계좌이체/운용변경 내용</div>
                    <ul class="list_dots">
                        <li class="list_dots-item">
                            <p>
                                <b>이체 할 계좌 :</b>
                                <span>하나은행 연금저축신탁</span>
                            </p>
                        </li>
                        <li class="list_dots-item">
                            <p>
                                <b>이체 받을 계좌 :</b>
                                <span>KB증권 연금저축펀드 (신규계좌)</span>
                            </p>
                        </li>
                        <li class="list_dots-item">
                            <p>
                                <b>현재 적립평가액 :</b>
                                <span>713만원</span>
                            </p>
                        </li>
                    </ul>

                    <div class="compare-wrap">
                        <div class="compare">
                            <div class="compare-box before">
                                <p class="compare-box-head">연금저축신탁</p>
                                <div class="compare-box-con">
                                    <div class="cp-bank">
                                        <img src="../../images/bank_circle_logo/064.png" alt="" class="bank_ico">
                                        <p class="cp-bank-name"><span>하나은행</span></p>
                                    </div>
                                    <ul class="cp-list">
                                        <li class="cp-list-item"><span>40만원</span></li>
                                        <li class="cp-list-item"><span>5년</span></li>
                                        <li class="cp-list-item"><span>60세</span></li>
                                        <li class="cp-list-item"><span>20년</span></li>
                                        <li class="cp-list-item"><strong><span>연1.5%</span></strong></li>
                                        <li class="cp-list-item"><strong><span>30만원</span></strong></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="compare-box-center">
                                <div class="arr_wrap">
                                    <div class="arr_item">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><defs><clipPath><path fill="#ccc" fill-opacity=".514" d="m-7 1024.36h34v34h-34z"/></clipPath><clipPath><path fill="#aade87" fill-opacity=".472" d="m-6 1028.36h32v32h-32z"/></clipPath></defs><path d="m345.44 248.29l-194.29 194.28c-12.359 12.365-32.397 12.365-44.75 0-12.354-12.354-12.354-32.391 0-44.744l171.91-171.91-171.91-171.9c-12.354-12.359-12.354-32.394 0-44.748 12.354-12.359 32.391-12.359 44.75 0l194.29 194.28c6.177 6.18 9.262 14.271 9.262 22.366 0 8.099-3.091 16.196-9.267 22.373" transform="matrix(.03541-.00013.00013.03541 2.98 3.02)" fill="#ccc"/></svg>
                                    </div>
                                    <div class="arr_item">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><defs><clipPath><path fill="#ccc" fill-opacity=".514" d="m-7 1024.36h34v34h-34z"/></clipPath><clipPath><path fill="#aade87" fill-opacity=".472" d="m-6 1028.36h32v32h-32z"/></clipPath></defs><path d="m345.44 248.29l-194.29 194.28c-12.359 12.365-32.397 12.365-44.75 0-12.354-12.354-12.354-32.391 0-44.744l171.91-171.91-171.91-171.9c-12.354-12.359-12.354-32.394 0-44.748 12.354-12.359 32.391-12.359 44.75 0l194.29 194.28c6.177 6.18 9.262 14.271 9.262 22.366 0 8.099-3.091 16.196-9.267 22.373" transform="matrix(.03541-.00013.00013.03541 2.98 3.02)" fill="#ccc"/></svg>
                                    </div>
                                    <div class="arr_item">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><defs><clipPath><path fill="#ccc" fill-opacity=".514" d="m-7 1024.36h34v34h-34z"/></clipPath><clipPath><path fill="#aade87" fill-opacity=".472" d="m-6 1028.36h32v32h-32z"/></clipPath></defs><path d="m345.44 248.29l-194.29 194.28c-12.359 12.365-32.397 12.365-44.75 0-12.354-12.354-12.354-32.391 0-44.744l171.91-171.91-171.91-171.9c-12.354-12.359-12.354-32.394 0-44.748 12.354-12.359 32.391-12.359 44.75 0l194.29 194.28c6.177 6.18 9.262 14.271 9.262 22.366 0 8.099-3.091 16.196-9.267 22.373" transform="matrix(.03541-.00013.00013.03541 2.98 3.02)" fill="#ccc"/></svg>
                                    </div>
                                    <div class="arr_item">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><defs><clipPath><path fill="#ccc" fill-opacity=".514" d="m-7 1024.36h34v34h-34z"/></clipPath><clipPath><path fill="#aade87" fill-opacity=".472" d="m-6 1028.36h32v32h-32z"/></clipPath></defs><path d="m345.44 248.29l-194.29 194.28c-12.359 12.365-32.397 12.365-44.75 0-12.354-12.354-12.354-32.391 0-44.744l171.91-171.91-171.91-171.9c-12.354-12.359-12.354-32.394 0-44.748 12.354-12.359 32.391-12.359 44.75 0l194.29 194.28c6.177 6.18 9.262 14.271 9.262 22.366 0 8.099-3.091 16.196-9.267 22.373" transform="matrix(.03541-.00013.00013.03541 2.98 3.02)" fill="#ccc"/></svg>
                                    </div>
                                    <div class="arr_item">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><defs><clipPath><path fill="#00f" fill-opacity=".514" d="m-7 1024.36h34v34h-34z"/></clipPath><clipPath><path fill="#aade87" fill-opacity=".472" d="m-6 1028.36h32v32h-32z"/></clipPath></defs><path d="m345.44 248.29l-194.29 194.28c-12.359 12.365-32.397 12.365-44.75 0-12.354-12.354-12.354-32.391 0-44.744l171.91-171.91-171.91-171.9c-12.354-12.359-12.354-32.394 0-44.748 12.354-12.359 32.391-12.359 44.75 0l194.29 194.28c6.177 6.18 9.262 14.271 9.262 22.366 0 8.099-3.091 16.196-9.267 22.373" transform="matrix(.03541-.00013.00013.03541 2.98 3.02)" fill="#ccc"/></svg>
                                    </div>
                                </div>
                                <ul class="cp-list-name">
                                    <li class="cp-list-name-item"><span>월납입액</span></li>
                                    <li class="cp-list-name-item"><span>납입기간</span></li>
                                    <li class="cp-list-name-item"><span>수령개시</span></li>
                                    <li class="cp-list-name-item"><span>수령기간</span></li>
                                    <li class="cp-list-name-item"><strong><span>기대수익</span></strong></li>
                                    <li class="cp-list-name-item"><strong><span>월연금액</span></strong></li>
                                </ul>

                            </div>
                            <div class="compare-box after">
                                <p class="compare-box-head">연금저축펀드</p>
                                <div class="compare-box-con">
                                    <div class="cp-bank">
                                        <img src="../../images/bank_circle_logo/032.png" alt="" class="bank_ico">
                                        <p class="cp-bank-name"><span>전북은행</span></p>
                                    </div>
                                    <ul class="cp-list">
                                        <li class="cp-list-item"><span>40만원</span></li>
                                        <li class="cp-list-item"><span>5년</span></li>
                                        <li class="cp-list-item"><span>60세</span></li>
                                        <li class="cp-list-item"><span>20년</span></li>
                                        <li class="cp-list-item"><strong><span>연1.5%</span></strong></li>
                                        <li class="cp-list-item"><strong><span>30만원</span></strong></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="box">
                        <p class="txt_2x"><i class="ico warn"></i><span>계좌유지</span></p>
                        <p class="txt">가입한지 20년 이상 경과, 수령시점에 근접하고 있음<br>
                            연금소득세가 부과되지 않으며, 우선 수령 대상임</p>    
                    </div>
                
                </div>
                
                <div class="modal-page-btn">
                    <button class="bt bt-color"><span>위의 자문내용을 이해하고 동의합니다</span></button>
                </div>
            </div>


        </div>
    </div>
    <!-- //popup -->

    <script src="../../js/jquery-1.9.1.min.js"></script>
    <script src="../../js/chart.v2.9.4.js"></script>
    <script src="../../js/chart.plugin.annotation.js"></script>
    <script>
        $(document).ready(function () {
           
            $('.popup_close').click(function(){
                $(this).parents('.popup_wrap').hide();
            });

            Chart.pluginService.register({
                afterUpdate: function (chart) {
                        var a=chart.config.data.datasets.length -1;
                        for (let i in chart.config.data.datasets) {
                            for(var j = chart.config.data.datasets[i].data.length - 1; j>= 0;--j) { 
                                if (Number(j) == (chart.config.data.datasets[i].data.length - 1))
                                    continue;
                                var arc = chart.getDatasetMeta(i).data[j];
                                arc.round = {
                                    x: (chart.chartArea.left + chart.chartArea.right) / 2,
                                    y: (chart.chartArea.top + chart.chartArea.bottom) / 2,
                                    radius: chart.innerRadius + chart.radiusLength / 2 + (a * chart.radiusLength),
                                    thickness: chart.radiusLength / 2,
                                    thickness: (chart.outerRadius - chart.innerRadius) / 2,
                                    backgroundColor: arc._model.backgroundColor
                                }
                            }
                            a--;
                        }
                },

                afterDraw: function (chart) {
                    var ctx = chart.chart.ctx;
                    for (let i in chart.config.data.datasets) {
                        for(var j = chart.config.data.datasets[i].data.length - 1; j>= 0;--j) { 
                            if (Number(j) == (chart.config.data.datasets[i].data.length - 1))
                                continue;
                            var arc = chart.getDatasetMeta(i).data[j];
                            var startAngle = Math.PI / 2 - arc._view.startAngle;
                            var endAngle = Math.PI / 2 - arc._view.endAngle;

                            ctx.save();
                            ctx.translate(arc.round.x, arc.round.y);
                            console.log(arc.round.startAngle)
                            ctx.fillStyle = arc.round.backgroundColor;
                            ctx.beginPath();
                            ctx.arc(arc.round.radius * Math.sin(startAngle), arc.round.radius * Math.cos(startAngle), arc.round.thickness, 0, 2 * Math.PI);
                            ctx.arc(arc.round.radius * Math.sin(endAngle), arc.round.radius * Math.cos(endAngle), arc.round.thickness, 0, 2 * Math.PI);
                            ctx.closePath();
                            ctx.fill();
                            ctx.restore();
                        }
                    }
                },
            });


        // draw options
        var options3 ={
            maintainAspectRatio: false,
            cutoutPercentage: 80,
            legend: {
                display: false,
            },
            tooltips: {
                enabled: false
            },
            layout: {
                padding: {
                    left: 0,
                    right: 0,
                    top: 0,
                    bottom: 0
                }
            },
            elements: {
                arc: {
                    roundedCornersFor: 0
                }
            }
        }

        var selectBgColor = 'rgb(40, 209, 80)';
        var selectBgColor2 = 'rgb(253, 242, 106)';

        //data2
        var data2={
            labels: ['주식'],
            datasets: [{
                label: '# of Votes',
                data: [30,10,100-50],
                backgroundColor: [
                    selectBgColor,
                    selectBgColor2


                ],
                borderWidth:0,
                hoverBackgroundColor:[
                    selectBgColor,
                    selectBgColor2
                ]
            }]
        }

        //data3
        var data3={
            labels: ['주식'],
            datasets: [{
                label: '# of Votes',
                data: [38,50,100-50],
                backgroundColor: [
                    selectBgColor,
                    selectBgColor2
                ],
                borderWidth:0,
                hoverBackgroundColor:[
                    selectBgColor,
                    selectBgColor2
                ]
            }]
        }

        var ctx2 = document.getElementById('myCircle').getContext('2d');
        new Chart(ctx2, {
            type :'doughnut',
            data : data2,
            options : options3
        });

        var ctx3 = document.getElementById('myCircle2').getContext('2d');
        new Chart(ctx3, {
            type :'doughnut',
            data : data3,
            options : options3
        });


           
    });
</script>

</body>
</html>