<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="ko">
<head>
	<meta http-equiv="Content-Type" content="text/html;application/json; charset=utf-8" />
	<script type="text/javascript" src="/js/jquery.js"></script>
	<script type="text/javascript" src="/js/jquery-1.6.2.min.js" ></script>
	<script type="text/javascript" src="/js/jquery.min.js"></script>
	
	<script type="text/javascript" src="/js/jquery.json-2.4.min.js" ></script>
	<script type="text/javascript" src="/js/jquery.form.js" ></script>
	<script type="text/javascript" src="/js/jquery-migrate-1.2.1.min.js" ></script>
	
	<script type="text/javascript" src="/js/constant.js"></script>
	<script type="text/javascript" src="/js/common.js"></script>

	<script type="text/javascript">
		$(function() {  //onready
			//여기에 최초 실행될 자바스크립트 코드를 넣어주세요
			//alert("LOGIN_ID " + '<c:out value="${LOGIN_ID}"/>');
			
			//gfn_OnLoad();
			
			//fn_init();
			
			fn_content();
		});
	
		// 화면내 초기화 부분
		function fn_init(){
			// 그리드에 소트 기능 추가한다.
			gfn_addGridSort("tb_list");
			
			// myParams 에 넘어온 값이 있으면 이전 검색조건 셋팅한다.
			gfn_setMyParams();
		}
	
		////////////////////////////////////////////////////////////////////////////////////
		// 호출부분 정의
		// 리스트 조회
		function fn_content(){
			
			// 파라미터 validation
			/*
			if(!gfn_validationForm($("#srchForm"))){
				return;
			}
			*/
			var inputParam = new Object();
			inputParam.sid 				= "my_pension";
			inputParam.url 				= "/pension/my_pension";
			inputParam.data 			= "test";
			//inputParam.data 			= gfn_makeInputData($("#srchForm"));
			//inputParam.callback			= fn_callBackA;
			/*
			alert("localhost:8000" + inputParam.url);
			$.ajax({
				url: (inputParam.application == false) ? "" : "localhost:8000" + inputParam.url
				, type		: "post"
				, data		: inputParam.data
				, dataType	: "json"
				, contentType: "application/x-www-form-urlencoded; charset=UTF-8"
				, async		: false
				,beforeSend: function (xhr) {
		            xhr.setRequestHeader("Content-type","application/json");
		            xhr.setRequestHeader("Authorization","JWT " + accessToken);
		        }
				, success	: function(result, textStatus, data) {
		//		   debugger;
			   		if(!gfn_isNull(result.pageInfo)){
						result.pageInfo.responseURL = data.responseURL + "?" + inputParam.data;
				    }
				   
					if( typeof callback != "function"){
						if ( window.fn_callBack ) {
							fn_callBack(inputParam.sid, result, data);    
						}
					}
					else {
						callback(inputParam.sid, result, data);
					}
				},
				error		: function(xhr, errorName, error) {
				   debugger;
			       alert("에러가 발생하였습니다. " + xhr.statusText);
		//	       alert(gfn_getMsg("fail.common.msg") + xhr.statusText);	// 에러가 발생했습니다!
				}
			});
			*/
			gfn_Transaction( inputParam );
		}
	
		////////////////////////////////////////////////////////////////////////////////////
		// 콜백 함수
		function fn_callBack(sid, result){
			//debugger;
			
			if (!result.success) {
				alert(result.msg);
				return;
			}
			
			
			// fn_content
			if(sid == "my_pension"){
				testJson.text = "테스트 데이터";
				/*
				var tbHiddenInfo = ["DISPLAY_TYPE_CD", "PROD_NO"]; // row에 추가할 히든 컬럼 설정  없으면 삭제
				
				gfn_displayList(result.ds_list, "tb_list", tbHiddenInfo);
				gfn_displayTotCnt(result.totCnt);
				
				gfn_addPaging(result.pageInfo, 'gfn_clickPageNo');
				
				gfn_addRowClickEvent("tb_list", "fn_clickRow"); // ==>동일하다
				*/
			}
			
		
		}
	</script>
</head>
<body>
	<img src="/images/logo.jpg" style="display: block;   margin-left: auto;   height: 500px; margin-top:200px;   margin-right: auto;"/>
	<div>
		Hello Muffler!!!!
	</div>
	<div id="testJson"></div>
</body>
</html>